(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{520:function(s,a,t){s.exports=t.p+"assets/img/1.18574b49.png"},534:function(s,a,t){"use strict";t.r(a);var e=t(6),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"linux运维相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux运维相关"}},[s._v("#")]),s._v(" linux运维相关")]),s._v(" "),e("h2",{attrs:{id:"linux通过命令进行文件上传下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux通过命令进行文件上传下载"}},[s._v("#")]),s._v(" linux通过命令进行文件上传下载")]),s._v(" "),e("ol",[e("li",[s._v("上传本地文件到服务器")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /path/filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本地文件"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" username@servername:/path/"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("远程路径"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("从服务器上下载文件")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" username@servername:/path/filename"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("远程文件"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" /Users/Lee/local_dir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本地目录"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("从服务器上下载整个目录")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r username@servername:/var/www/remote_dir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("远程目录"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" /Users/Lee/local_dir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本地目录"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n例如：scp -r root@192.168.0.101:/var/www/test /Users/Lee/Downloads\n把服务器上/var/www/目录下的test目录下载到/Users/Lee/Downloads目录下\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("上传目录到服务器")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r local_dir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("本地目录"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" username@servername:remote_dir"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("远程目录"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n例如：scp -r /Users/Lee/test root@192.168.0.101:/var/www/ \n把/Users/Lee下的test目录上传到服务器的/var/www/目录下"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("如果不加/Users/Lee/就是把当前目录下的test目录上传到服务器的/var/www/目录下"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" \n")])])]),e("h2",{attrs:{id:"linux常用命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux常用命令"}},[s._v("#")]),s._v(" linux常用命令")]),s._v(" "),e("ol",[e("li",[s._v("stat：主要用于显示文件或文件系统的详细信息 例如：stat filename")]),s._v(" "),e("li",[s._v("history 列出系统的所有操作记录")]),s._v(" "),e("li",[s._v("ps -ef|grep java 查看java进程")]),s._v(" "),e("li",[s._v("kill -9 端口号 杀进程")]),s._v(" "),e("li",[s._v("tail -f catlina.out 动态显示日志内容")]),s._v(" "),e("li",[s._v("mkdir dir1 创建一个叫做 'dir1' 的目录'")]),s._v(" "),e("li",[s._v("source profile 使文件生效")]),s._v(" "),e("li",[s._v("mv：用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中")]),s._v(" "),e("li",[s._v("nohup java -jar demo.jar & 后台发布运行")]),s._v(" "),e("li",[s._v("rm -rf filename 强制删除文件")]),s._v(" "),e("li",[s._v("find -name oracle 查找oracle安装目录")]),s._v(" "),e("li",[s._v("systemctl start firewalld.service（开启防火墙）")]),s._v(" "),e("li",[s._v("systemctl stop firewalld.service（停止防火墙）")]),s._v(" "),e("li",[s._v("service firewalld restart（重启防火墙）")]),s._v(" "),e("li",[s._v("firewall-cmd --state（查看防火墙状态）")]),s._v(" "),e("li",[s._v("firewall-cmd --zone=public --add-port=4400-4600/udp --permanent（指定端口范围为4400-4600通过防火墙）")]),s._v(" "),e("li",[s._v("firewall-cmd --zone=public --remove-port=80/tcp --permanent（关闭指定端口）")]),s._v(" "),e("li",[s._v("firewall-cmd --permanent --add-port=8080/tcp（开放指定端口）")]),s._v(" "),e("li",[s._v("firewall-cmd --zone=public --list-ports（查看通过的端口）")])]),s._v(" "),e("h2",{attrs:{id:"oracle重启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#oracle重启"}},[s._v("#")]),s._v(" oracle重启")]),s._v(" "),e("ol",[e("li",[s._v("用root账户登录服务器")]),s._v(" "),e("li",[s._v("切换oracle账户（su - oracle）注意有空格")]),s._v(" "),e("li",[s._v("登录oracle（sqlplus / as sysdba）或进入sqlplus（sqlplus /nolog）以系统管理员登录（connect / as sysdba）")]),s._v(" "),e("li",[s._v("重启oracle（startup）")]),s._v(" "),e("li",[s._v("退出sqlplus控制台（exit）")]),s._v(" "),e("li",[s._v("进入监听器控制台（lsnrctl）")]),s._v(" "),e("li",[s._v("启动监听器（start）停止监听器（stop）查看监听器状态（status）")]),s._v(" "),e("li",[s._v("退出监听器控制台（exit）")])]),s._v(" "),e("h2",{attrs:{id:"docker部署springboot项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker部署springboot项目"}},[s._v("#")]),s._v(" docker部署springboot项目")]),s._v(" "),e("p",[s._v("1、将jar包和Dockerfile上传到服务器目录中")]),s._v(" "),e("div",{staticClass:"language-dockerfile extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Docker image for springboot file run")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# VERSION 0.0.1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Author: Lee")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 基础镜像使用java")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("FROM")]),s._v(" java"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("8\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 作者")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("MAINTAINER")]),s._v(" Lee <cancan.li@wisdragon.com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# VOLUME 指定了临时文件目录为/tmp。")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其效果是在主机 /var/lib/docker 目录下创建了一个临时文件，并链接到容器的/tmp")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("VOLUME")]),s._v(" /tmp\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将jar包添加到容器中并更名为app.jar")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ADD")]),s._v(" fighter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("framework"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("example"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("1.0.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("SNAPSHOT.jar app.jar\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行jar包")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("RUN")]),s._v(" bash "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("c "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'touch /app.jar'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 用于设定容器启动时第一个运行的命令及其参数")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ENTRYPOINT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"java"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-Djava.security.egd=file:/dev/./urandom"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-jar"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/app.jar"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[e("img",{attrs:{src:t(520),alt:"1.png"}}),s._v("\n2、制作镜像，注意最后有个点")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker build -t fighter-demo "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -t 参数是指定此镜像的tag名")]),s._v("\n")])])]),e("p",[s._v("3、制作完成后通过docker images命令查看制作的镜像"),e("br"),s._v("\n4、启动容器")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8085 fighter-demo\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -d 参数是让容器后台运行")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -p 是做端口映射，此时将服务器中的8080端口映射到容器中的8085(项目中端口配置的是8085)端口")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# -v 文件夹挂载")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run --name rsgl -p 8080:8080 -v /home/rs:/home/rs -d rsgl java -Djava.security.egd=file:/dev/./urandom -Dspring.config.location=/home/rs/application.yml -Dspring.profiles.active=mysql-dev -jar /rsgl.jar")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#docker run --name rsgl -p 8080:8080 -v /home/rs:/home/rs -d rsgl java -Djava.security.egd=file:/dev/./urandom -Dspring.config.location=/home/rs/application-mysql-dev.yml -jar /rsgl.jar")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#--name后面的rsgl是给运行的容器起名字，-d 后面的rsgl是镜像的名字")]),s._v("\n")])])]),e("p",[s._v("5、验证是否部署成功")]),s._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("http:")]),s._v("//你的服务器ip地址:8080\n")])])]),e("p",[s._v("6、docker常用命令")]),s._v(" "),e("div",{staticClass:"language-dockerfile extra-class"},[e("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[e("code",[s._v("docker ps "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看docker进程")]),s._v("\ndocker ps "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有docker进程")]),s._v("\ndocker stop <CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止运行某个容器")]),s._v("\ndocker start <CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 运行某个容器")]),s._v("\ndocker rm <CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除某个容器")]),s._v("\ndocker images "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看镜像")]),s._v("\ndocker images "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("a "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看所有镜像")]),s._v("\ndocker rmi "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("f <ID 或 REPOSITORY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 删除镜像 -f 表示强制删除")]),s._v("\ndocker logs "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("since 30m <CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看日志")]),s._v("\ndocker inspect <CONTAINER ID"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取容器/镜像的元数据")]),s._v("\n")])])]),e("h2",{attrs:{id:"docker部署vue前端"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker部署vue前端"}},[s._v("#")]),s._v(" docker部署vue前端")]),s._v(" "),e("p",[s._v("1、依次建立如下目录结构")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("/home/rs-front/www\n/home/rs-front/logs\n/home/rs-front/conf\n")])])]),e("p",[s._v("2、将vue项目通过npm run build打包，将dist（可以先改为www）文件夹下的所有文件上传到/home/rs-front/www目录下")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r /Users/Lee/develop/HBuilderWorkSpace/rsgl_front/www root@192.168.19.28:/home/rs-front\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" -r /Users/Lee/develop/HBuilderWorkSpace/rsgl_front/sys root@192.168.19.28:/home/rs-front/www\n")])])]),e("p",[s._v("3、获取nginx镜像（默认最新版）")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker pull nginx\n")])])]),e("p",[s._v("4、先随便运行nginx镜像，把nginx的配置文件复制到/home/rs-front/conf下，再删除这个容器。（只是为了获取配置文件）")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(":80 nginx\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -a\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" a36b00ef3a39:/etc/nginx/nginx.conf /home/rs-front/conf\ndocker stop a36b00ef3a39\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" a36b00ef3a39\n")])])]),e("p",[s._v("5、重新运行nginx镜像")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("docker run -d -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v(":80 --name rsgl_front -v /home/rs-front/www:/usr/share/nginx/html -v /home/rs-front/conf/nginx.conf:/etc/nginx/nginx.conf -v /home/rs-front/logs:/var/log/nginx nginx\n")])])]),e("p",[s._v("6、验证是否部署成功")]),s._v(" "),e("div",{staticClass:"language-http extra-class"},[e("pre",{pre:!0,attrs:{class:"language-http"}},[e("code",[e("span",{pre:!0,attrs:{class:"token header-name keyword"}},[s._v("http:")]),s._v("//192.168.19.28:8081\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);